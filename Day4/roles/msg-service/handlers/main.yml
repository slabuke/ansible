---
# handlers file for msg-service

    - name: restart msg-service
      systemd:
        name: msg-service
        daemon_reload: yes
        state: restarted
      become: yes

    - name: msg-service provision fact
      copy:
        content: >
          {
             "configuration": {
               "PORT": "{{ app_port }}",
               "USER": "{{ app_user }}",
               "GROUP": "{{ app_group }}"
               },
             "provisioned": {
               "name": "{{ student_first_name }}",
               "surname": "{{ student_last_name }}",
               "time": "{{ ansible_date_time.iso8601 }}"
               }
           }
        dest: /etc/ansible/facts.d/msg-service.fact
      become: yes